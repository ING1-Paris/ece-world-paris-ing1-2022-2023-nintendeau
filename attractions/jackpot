#include <stdio.h>
#include <allegro.h>
#include <time.h>


int main(int argc, char *argv[])
{
    srand(time(NULL));
    int cblanc, crouge, cbleu, cnoir;
    int vblanc = 1, vrouge = 2,vbleu = 3;
    int nbrTicket = 5 ;

    allegro_init();
    install_keyboard();
    install_mouse();

    set_color_depth(desktop_color_depth());
    if (set_gfx_mode(GFX_AUTODETECT_WINDOWED,800,600,0,0)!=0)
    {
        allegro_message("prb gfx mode");
        allegro_exit();
        exit(EXIT_FAILURE);
    }
    show_mouse(screen);

    // Avoir une couleur (ici du blanc)
    cblanc=makecol(255,255,255);
    crouge=makecol(255,0,0);
    cbleu=makecol(0,0,255);

    rectfill(screen,570,300,690,310,makecol(0,128,0 ));
    textprintf_ex(screen,font,572,302,makecol(255,0,0),makecol(0,255,0),"lancer le jeu ");


    textprintf_ex(screen, font, 300, 500, cblanc, -1, "il vous reste %d tickets", nbrTicket);


    for(int i = 0 ; i < 3 ; i++) {
        int choix = rand() % 3 + 1;
        if (choix == vbleu) {
            rectfill(screen, 240 + i * 110, 240, 340 + i *  110, 340, cbleu);
        } else if (choix == vblanc) {
            rectfill(screen, 240 + i * 110, 240, 340 + i *  110, 340, cblanc);
        } else if (choix == vrouge){
            rectfill(screen, 240 + i * 110, 240, 340 + i *  110, 340, crouge);
        }
    }


    readkey();

    return 0;
}
END_OF_MAIN();
